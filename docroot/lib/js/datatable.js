if((typeof MMONIT==="undefined")||(!MMONIT)){var MMONIT={}}MMONIT.datatable={};MMONIT.datatable.search=function(){this.shouldApplyClientSearch=false;this.shouldRefreshCache=false;return{client:function(d,f,e){var c=-1;var h=[];var b=$("#"+e);var g=function(){var k=d.getRecordSet();var j=k.getRecords();for(var l=0;l<j.length;l++){h[h.length]=j[l].getData()}};d.subscribe("rowDeleteEvent",function(k){for(var j=0;j<h.length;j++){if(k.oldData.id==h[j].id){h.splice(j,1);break}}});var a=function(){if(MMONIT.datatable.search.shouldRefreshCache){MMONIT.datatable.search.shouldRefreshCache=false;h=[]}if(h.length===0){g()}MMONIT.datatable.search.shouldApplyClientSearch=false;d.getRecordSet().replaceRecords(h);var j=[];var l=d.getRecordSet();var k=l.getRecords();for(var n=null,m=0;m<k.length;m++){n=k[m].getData();if(n[f].toLowerCase().indexOf(b.val().toLowerCase())>=0){j[j.length]=n}}if(j.length<k.length){l.replaceRecords(j)}var o=d.get("paginator");if(o){o.set("totalRecords",j.length)}d.render()};d.subscribe("beforeRenderEvent",function(i){if(!((!MMONIT.datatable.search.shouldApplyClientSearch)||(b.val()==""))){MMONIT.datatable.search.shouldApplyClientSearch=false;a()}});b.on("keyup",function(i){if(i.which==13){$(i.target).blur()}else{if(c!=-1){c=-1;clearTimeout(c)}c=setTimeout(a,(300))}})}}}();